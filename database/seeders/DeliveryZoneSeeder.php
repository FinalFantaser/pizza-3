<?php

namespace Database\Seeders;

use App\Models\Shop\City;
use App\ReadRepository\Shop\CityReadRepository;
use App\Repository\Shop\Delivery\DeliveryZoneRepository;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;

class DeliveryZoneSeeder extends Seeder
{
    public function __construct(
        //Репозитории
        private DeliveryZoneRepository $zoneRepository,
        private CityReadRepository $cityRepository,

        //Города
        private City $city_aprelevka,
        private City $city_balabanovo,
        private City $city_maloyaroslavets,
        private City $city_zhukov,
        private City $city_obninsk,
    )
    {
        //Загрузка городов
        $this->city_aprelevka = $this->cityRepository->findByName('Апрелевка');
        $this->city_balabanovo = $this->cityRepository->findByName('Балабаново');
        $this->city_maloyaroslavets = $this->cityRepository->findByName('Малоярославец');
        $this->city_zhukov = $this->cityRepository->findByName('Жуков');
        $this->city_obninsk = $this->cityRepository->findByName('Обнинск');

    } //Конструктор

    public function run()
    {
        //Апрелевка 1-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_aprelevka->id,
            restaurant_id: '000002',
            code: '026569',
            name: 'ТЗ (Ф) Апрелевка. Зона 1-1. Сумма минимального заказа 499 руб. Стоимость доставки 99 руб. При заказе от 1000 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказ 60 минут.',
            sum_min: 499,
            time_min: 60,
            time_max: 60,
            delivery_price: 99,
            sum_for_free: 1000,
            coordinates: [
                [55.52949305110671,37.01202271911613],
                [55.533314519103705,37.00764535400384],
                [55.535772718618496,37.01219438049308],
                [55.56608593279695,37.02738641235348],
                [55.58242488744191,37.12360261413567],
                [55.58077185131026,37.12476132843011],
                [55.57415900774933,37.1385371539306],
                [55.5699767793789,37.14428781005856],
                [55.54224605028607,37.094849333496065],
                [55.53683702491955,37.10272537103722],
                [55.529358251176745,37.11609457264084],
                [55.51916332246497,37.11991511015154],
                [55.51864621464364,37.11364564755551],
                [55.5198821751334,37.107934084434575],
                [55.5206618827572,37.10425717782771],
                [55.51896198941083,37.09850142525007],
                [55.51823061349583,37.08897636257611],
                [55.50801406207941,37.073228574987645],
                [55.5072356118439,37.063549021115016],
                [55.51054875118425,37.025888662798984],
                [55.52477046727368,37.021979078979385],
            ]
        );

        //Апрелевка 2-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_aprelevka->id,
            restaurant_id: '000002',
            code: '026570',
            name: 'ТЗ (Ф) Апрелевка. Зона 2-1. Сумма минимального заказа 499 руб.Стоимость доставки 125 руб. При заказе от 1200 руб. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 75 минут.',
            sum_min: 499,
            time_min: 75,
            time_max: 75,
            delivery_price: 125,
            sum_for_free: 1200,
            coordinates: [
                [55.52473046268463,37.02168905649726],
                [55.518440403611486,36.99884563917758],
                [55.513026015758086,36.9907651002759],
                [55.502097560614,36.97408903834172],
                [55.48506455672885,36.97965023973714],
                [55.469096856946024,36.98332316598613],
                [55.45421763058399,37.000797039724326],
                [55.46504463690606,37.03942084953881],
                [55.478891049908206,37.058389431692106],
                [55.48615358773098,37.07014823601335],
                [55.484106565480175,37.09495330498311],
                [55.49088082617811,37.10705543205832],
                [55.500918226522444,37.095039135671584],
                [55.506861495090995,37.0600202147732],
                [55.50919958328507,37.02465797112085],
            ]
        );

        //Апрелевка 3-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_aprelevka->id,
            restaurant_id: '000002',
            code: '026571',
            name: 'ТЗ (Ф) Апрелевка. Зона 3-1. Сумма минимального заказа 499 руб. Стоимость доставки 150 руб. При заказе от 1500 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 90 минут.',
            sum_min: 499,
            time_min: 90,
            time_max: 90,
            delivery_price: 150,
            sum_for_free: 1500,
            coordinates: [
                [55.57599314791017,37.0826103606063],
                [55.58788031940619,37.076516381724474],
                [55.60048066242749,37.09758781574547],
                [55.605157672539484,37.1129085936385],
                [55.605983683678616,37.12209247730552],
                [55.60889887741644,37.13749908588708],
                [55.614182111425784,37.162583104594184],
                [55.61813192454045,37.16855370186133],
                [55.617872360312234,37.204068831427485],
                [55.62246988289791,37.21280478618902],
                [55.6196482915995,37.22465210340782],
                [55.61867229835675,37.24010430954268],
                [55.60917064740722,37.25431197069452],
                [55.60779583619922,37.25017198108009],
                [55.585182321540096,37.23461650989829],
                [55.58839073047956,37.21629165790854],
                [55.58710253731662,37.20464550636588],
                [55.58280015059967,37.19505929134665],
                [55.58002887112457,37.17726015232382],
                [55.58090403323327,37.12555789135276],
                [55.58289738492298,37.123980752452006],
            ]
        );

        //Апрелевка 3-2
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_aprelevka->id,
            restaurant_id: '000002',
            code: '026572',
            name: 'ТЗ (Ф) Апрелевка. Зона 3-2. Сумма минимального заказа 499 руб. Стоимость доставки 150 руб. При заказе от 1500 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 90 минут.',
            sum_min: 499,
            time_min: 90,
            time_max: 90,
            delivery_price: 150,
            sum_for_free: 1500,
            coordinates: [
                [55.48584414143886,37.0702862744253],
                [55.473453290375694,37.05209755085144],
                [55.4668815426604,37.05427850502718],
                [55.46179089583692,37.06300791338947],
                [55.455480221506605,37.06899073972049],
                [55.466453165501605,37.0876159991199],
                [55.49448120431705,37.14190390958129],
                [55.496113525078115,37.15771821393305],
                [55.50613740807721,37.170174392598234],
                [55.520026307787624,37.18842788158779],
                [55.52008329183053,37.20221817477651],
                [55.52757166376133,37.20789210348618],
                [55.533987704981996,37.21493932321152],
                [55.57237574436902,37.20652791574081],
                [55.579311731147996,37.23630637083003],
                [55.58469084290915,37.23432747118306],
                [55.58809373519399,37.216045534537514],
                [55.586829838357545,37.2049304603798],
                [55.58255173038656,37.195253050254045],
                [55.57987767511261,37.17796889536208],
                [55.580606981061244,37.12566581957173],
                [55.57431019141206,37.13884083025283],
                [55.569957763431795,37.14497772447895],
                [55.542275688487436,37.09545341722793],
                [55.53711658231669,37.102920687125405],
                [55.52962006576616,37.116224443839265],
                [55.519005660026856,37.12043014757466],
                [55.51842129729486,37.113821184561964],
                [55.520417833982115,37.104465639518004],
                [55.51868913129253,37.09858623735733],
                [55.518080415009756,37.08927360765765],
                [55.514233109334604,37.086698687003356],
                [55.501446623145775,37.10143543195918],
                [55.48936261006729,37.11482501936151],
                [55.48244186154455,37.09954715681267],
            ]
        );

        //Балабаново 1-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_balabanovo->id,
            restaurant_id: '000004',
            code: '026332',
            name: 'ТЗ (Ф) Балабаново. Зона 1-1. Сумма минимального заказа 600 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 60 минут.',
            sum_min: 600,
            time_min: 60,
            time_max: 60,
            delivery_price: 0,
            sum_for_free: 600,
            coordinates: [
                [55.16147278830156,36.555655742948936],
                [55.19232069266296,36.569560314482004],
                [55.21612790448716,36.60028770095657],
                [55.22447327543153,36.5993858180693],
                [55.22550132286115,36.608269808583344],
                [55.231829645833294,36.63358986168397],
                [55.23403696245926,36.64749443321691],
                [55.235802727191526,36.66586220055108],
                [55.21519723870633,36.65848076134205],
                [55.19418823593965,36.659339068226856],
                [55.18790300664717,36.66363060265065],
                [55.195464801433296,36.678221819691736],
                [55.19811599846062,36.68096840172293],
                [55.19919606494907,36.70019447594162],
                [55.18652797996353,36.73452675133227],
                [55.166781270287146,36.73967659264094],
                [55.15587215890574,36.73281013756286],
                [55.163931431334575,36.70620262413508],
                [55.15557727645723,36.66414558678149],
                [55.15891914932949,36.61505043297286],
                [55.148794375779126,36.57213508873471],
            ]
        );

        //Балабаново 2-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_balabanovo->id,
            restaurant_id: '000004',
            code: '026333',
            name: 'ТЗ (Ф) Балабаново. Зона 2-1. Сумма минимального заказа 900 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 75 минут.',
            sum_min: 900,
            time_min: 75,
            time_max: 75,
            delivery_price: 0,
            sum_for_free: 900,
            coordinates: [
                [55.16322435128095,36.552951329002106],
                [55.198391424686726,36.398112766990394],
                [55.20745372853102,36.38702970999228],
                [55.23846207139086,36.379476609406325],
                [55.30393149574913,36.47492033499229],
                [55.32781845663344,36.550451340851644],
                [55.31920515344915,36.702199998078214],
                [55.26189846566958,36.784425797638754],
                [55.21412845953646,36.84021574514848],
                [55.12884304241613,36.95797544973832],
                [55.09125150464627,36.92947966116411],
                [55.11388940825456,36.86424833792193],
                [55.13946457592092,36.78253752249224],
                [55.15519496398246,36.73309904592972],
                [55.167185199709856,36.74202902079491],
                [55.18781565062694,36.73584921122458],
                [55.20077787327294,36.70014364481834],
                [55.19901054693843,36.67920095683006],
                [55.19817594877931,36.67971594096092],
                [55.195868438929296,36.6779134965029],
                [55.18860136048498,36.66383726359276],
                [55.193167990929894,36.660404036053706],
                [55.19768500048263,36.65980322123436],
                [55.20323236247087,36.65946079429632],
                [55.214717352383474,36.65868831810003],
                [55.22148899157515,36.66126323875431],
                [55.236794518704116,36.667443048324635],
                [55.23414590842083,36.64186550315862],
                [55.22973116423096,36.62109447654728],
                [55.22629713403973,36.608734857406674],
                [55.224825315668475,36.59757686790472],
                [55.21677840853873,36.59843517478948],
                [55.192431473146094,36.566849481430054],
            ]
        );

        //Малоярославец 1-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_maloyaroslavets->id,
            restaurant_id: '000007',
            code: '026334',
            name: 'ТЗ (Ф) Малоярославец. Зона 1-1. Сумма минимального заказа 600 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 60 минут.',
            sum_min: 600,
            time_min: 60,
            time_max: 60,
            delivery_price: 0,
            sum_for_free: 600,
            coordinates: [
                [55.02826047280669,36.51483490099847],
                [55.020173682623785,36.518611451291264],
                [54.998962731184925,36.500930329465014],
                [54.99323877708607,36.48427917590029],
                [54.983664124385555,36.50097324480892],
                [54.98425643751614,36.482905884884666],
                [54.98534232211296,36.451835175656335],
                [54.987884163850225,36.42434789767157],
                [54.99358421134689,36.415915032528986],
                [55.000245573885515,36.41773893465888],
                [55.00382251384089,36.415700455807624],
                [55.01051916410733,36.422481080197265],
                [55.020568198203186,36.40522911181353],
                [55.04147194462176,36.44771530260939],
                [55.047090423405315,36.492862244748224],
            ]
        );

        //Малоярославец 2-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_maloyaroslavets->id,
            restaurant_id: '000007',
            code: '026335',
            name: 'ТЗ (Ф) Малоярославец. Зона 2-1. Сумма минимального заказа 900 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 75 минут.',
            sum_min: 900,
            time_min: 75,
            time_max: 75,
            delivery_price: 0,
            sum_for_free: 900,
            coordinates: [
                [55.042729349030594,36.537580033445025],
                [55.03844116519297,36.541614075803416],
                [55.032969364667785,36.546506425046594],
                [55.02187557422527,36.52401878466574],
                [55.02803917192426,36.518697281980174],
                [55.03370884103351,36.51698066821066],
            ]
        );

        //Малоярославец 2-2
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_maloyaroslavets->id,
            restaurant_id: '000007',
            code: '026336',
            name: 'ТЗ (Ф) Малоярославец. Зона 2-2. Сумма минимального заказа 900 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 75 минут.',
            sum_min: 900,
            time_min: 75,
            time_max: 75,
            delivery_price: 0,
            sum_for_free: 900,
            coordinates: [
                [54.98863652834245,36.28231976367527],
                [55.03845908087258,36.37224313405325],
                [55.03195199332972,36.40159722951221],
                [55.01962505477513,36.40400048878957],
                [55.01567963014016,36.412712303669906],
                [55.01047600516669,36.42202493336961],
                [55.00371767892492,36.41520139363573],
                [55.00282963863686,36.41584512379931],
                [55.000288747625476,36.41739007619188],
                [54.993380654083566,36.41545888570115],
                [54.987507835251016,36.42425653126999],
                [54.98446720224174,36.452322080452454],
                [54.98338129386687,36.49952895911457],
                [54.92796083347069,36.4106083658528],
            ]
        );

        //Малоярославец 3-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_maloyaroslavets->id,
            restaurant_id: '000007',
            code: '026337',
            name: 'ТЗ (Ф) Малоярославец. Зона 3-1. Сумма минимального заказа 1500 р. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 90 минут.',
            sum_min: 1500,
            time_min: 90,
            time_max: 90,
            delivery_price: 0,
            sum_for_free: 1500,
            coordinates: [
                [54.97485486865666,36.141958310921126],
                [54.983740601975185,36.17079742224926],
                [55.038985238685186,36.368551328499265],
                [54.98887368093882,36.27928741248363],
                [54.92644232698807,36.40940673621405],
                [54.92327865390308,36.477727964241396],
                [54.78839301836742,36.311903074104656],
                [54.79533651449271,36.26898772986636],
                [54.851826082113774,36.27890337154906],
                [54.942448847803085,36.178653127408445],
            ]
        );

        //Жуков 3-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_zhukov->id,
            restaurant_id: '000012',
            code: '027612',
            name: 'ТЗ (Ф) Жуков.Зона 3-1. Сумма минимального заказа 600руб.Стоимость доставки 150руб.при заказе от 1500руб  ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 90мин.',
            sum_min: 600,
            time_min: 90,
            time_max: 90,
            delivery_price: 150,
            sum_for_free: 1500,
            coordinates: [
                [54.96144641398765,36.818241659123665],
                [54.96000181145813,36.807083669621505],
                [54.95816202843573,36.79386574359645],
                [54.957248279247565,36.785969320256534],
                [54.95976721296863,36.76331001849883],
                [54.95853246135718,36.73859078021757],
                [54.96124886460226,36.72417122455348],
                [54.92725584916436,36.734470907170625],
                [54.91776427300713,36.8127484950611],
                [54.89837865418814,36.86905342670178],
                [54.88848441957163,36.912312093694126],
                [54.91499547296173,36.95351082416281],
                [54.93595448500877,36.9178052577566],

            ]
        );

        //Жуков 1-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_zhukov->id,
            restaurant_id: '000012',
            code: '027613',
            name: 'ТЗ (Ф) Жуков. Зона 1-1. Сумма минимального заказа 600руб. ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 60мин.',
            sum_min: 600,
            time_min: 60,
            time_max: 60,
            delivery_price: 0,
            sum_for_free: 0,
            coordinates: [
                [55.04724423344817,36.719723605413094],
                [55.04014710342548,36.706849002141624],
                [55.029597646166565,36.70272912909473],
                [55.02101799353613,36.70787897040333],
                [55.01726998022027,36.71234216620412],
                [55.010901812611245,36.72535727753214],
                [55.00695552577034,36.74629996552043],
                [55.008139452775005,36.768272621770414],
                [55.01366398134197,36.79161856903605],
                [55.03358539391262,36.789901955266515],
                [55.04620371648875,36.75316642059854],
                [55.04975190044859,36.73428366913372],

            ]
        );

        //Жуков 2-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_zhukov->id,
            restaurant_id: '000012',
            code: '027614',
            name: 'ТЗ (Ф) Жуков. Зона 2-1. Сумма минимального заказа 600руб. Стоимость доставки 99 руб. При заказе от 900руб ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 75мин.',
            sum_min: 600,
            time_min: 75,
            time_max: 75,
            delivery_price: 99,
            sum_for_free: 900,
            coordinates: [
                [55.08078935171071,36.67683743026179],
                [55.077834855888554,36.66791103866027],
                [55.06089151543982,36.643191800378936],
                [55.051431633762725,36.639071927332196],
                [55.042363806941076,36.64971493270333],
                [55.035660174685404,36.65829800155094],
                [55.02816654640312,36.6613879063361],
                [55.0121885878624,36.65967129256656],
                [55.006269202116854,36.67443417098457],
                [55.00074365031809,36.68164394881658],
                [54.995778965860296,36.68310353143373],
                [54.988080430774694,36.68550679071095],
                [54.979522264711015,36.69023431398809],
                [54.96372505868549,36.7176344998023],
                [54.95858874971571,36.74029380156013],
                [54.96016922272383,36.76466971708714],
                [54.958193621706776,36.779089272751456],
                [54.958193621706776,36.79179221464606],
                [54.96194718021332,36.81994468046637],
                [54.97182328281139,36.83436423613036],
                [54.98604058611162,36.83711081816117],
                [54.99551597925481,36.837797463669624],
                [55.02590103165068,36.81788474394281],
                [55.04882248660261,36.82118922544916],
                [55.058923461019624,36.788444817795394],
                [55.05567171935811,36.76072150541749],
                [55.07330206415858,36.75550819738579],
                [55.08127490138079,36.72694894208849],
                [55.07929587273758,36.70038615659156],
                [55.08046824115584,36.6782865668954],
                [55.060954943191376,36.692235866359425],
                [55.05145739774606,36.699281233160725],
                [55.04067608641424,36.70632659996206],
                [55.047834001108725,36.719208453579775],
                [55.05024578565112,36.734686978890544],
                [55.046593306456124,36.75397105587925],
                [55.03356916985163,36.79133758021795],
                [55.01323004490996,36.79225623680557],
                [55.00785652943124,36.7690309889456],
                [55.006185443761346,36.746613085999144],
                [55.010341446328745,36.72477990461791],
                [55.016482165655646,36.71201258970702],
                [55.02047682529766,36.707077325119606],
                [55.0298454459345,36.70166999174554],
                [55.04039483766765,36.70544654203872],
            ]
        );

        //Обнинск 1-1
        $this->zoneRepository->updateOrCreate(
            city_id: $this->city_obninsk->id,
            restaurant_id: '000012',
            code: '027614',
            name: 'ТЗ (Ф) Жуков. Зона 2-1. Сумма минимального заказа 600руб. Стоимость доставки 99 руб. При заказе от 900руб ДОСТАВКА ОСУЩЕСТВЛЯЕТСЯ БЕСПЛАТНО. Время ожидания заказа 75мин.',
            sum_min: 600,
            time_min: 75,
            time_max: 75,
            delivery_price: 99,
            sum_for_free: 900,
            coordinates: [
                [55.08078935171071,36.67683743026179],
                [55.077834855888554,36.66791103866027],
                [55.06089151543982,36.643191800378936],
                [55.051431633762725,36.639071927332196],
                [55.042363806941076,36.64971493270333],
                [55.035660174685404,36.65829800155094],
                [55.02816654640312,36.6613879063361],
                [55.0121885878624,36.65967129256656],
                [55.006269202116854,36.67443417098457],
                [55.00074365031809,36.68164394881658],
                [54.995778965860296,36.68310353143373],
                [54.988080430774694,36.68550679071095],
                [54.979522264711015,36.69023431398809],
                [54.96372505868549,36.7176344998023],
                [54.95858874971571,36.74029380156013],
                [54.96016922272383,36.76466971708714],
                [54.958193621706776,36.779089272751456],
                [54.958193621706776,36.79179221464606],
                [54.96194718021332,36.81994468046637],
                [54.97182328281139,36.83436423613036],
                [54.98604058611162,36.83711081816117],
                [54.99551597925481,36.837797463669624],
                [55.02590103165068,36.81788474394281],
                [55.04882248660261,36.82118922544916],
                [55.058923461019624,36.788444817795394],
                [55.05567171935811,36.76072150541749],
                [55.07330206415858,36.75550819738579],
                [55.08127490138079,36.72694894208849],
                [55.07929587273758,36.70038615659156],
                [55.08046824115584,36.6782865668954],
                [55.060954943191376,36.692235866359425],
                [55.05145739774606,36.699281233160725],
                [55.04067608641424,36.70632659996206],
                [55.047834001108725,36.719208453579775],
                [55.05024578565112,36.734686978890544],
                [55.046593306456124,36.75397105587925],
                [55.03356916985163,36.79133758021795],
                [55.01323004490996,36.79225623680557],
                [55.00785652943124,36.7690309889456],
                [55.006185443761346,36.746613085999144],
                [55.010341446328745,36.72477990461791],
                [55.016482165655646,36.71201258970702],
                [55.02047682529766,36.707077325119606],
                [55.0298454459345,36.70166999174554],
                [55.04039483766765,36.70544654203872],
            ]
        );
    }
}
